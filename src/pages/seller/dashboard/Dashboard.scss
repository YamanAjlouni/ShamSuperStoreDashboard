@use '../../../assets/styles/vars.scss' as *;

.dashboard {
    .dashboard-header {
        background: $white;
        border-radius: $radius-xl;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: $shadow-sm;
        border: 1px solid $gray-200;
        display: flex;
        justify-content: space-between;
        align-items: center;

        .welcome-section {
            display: flex;
            align-items: center;
            gap: 1.5rem;

            .user-avatar {
                width: 80px;
                height: 80px;
                border-radius: 50%;
                overflow: hidden;
                border: 3px solid $gray-200;

                img {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                }
            }

            .welcome-text {
                h1 {
                    font-size: 1.5rem;
                    font-weight: 600;
                    color: $primary-color;
                    margin-bottom: 0.5rem;
                }

                .user-info {
                    color: $text-light;
                    font-size: 0.875rem;
                    margin-bottom: 0.5rem;
                }

                .last-login {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    color: $text-light;
                    font-size: 0.875rem;
                }
            }
        }

        .storage-info {
            display: flex;
            gap: 1.5rem;

            .storage-item {
                text-align: right;

                .storage-value {
                    display: block;
                    font-size: 1.125rem;
                    font-weight: 600;
                    color: $text-dark;
                }

                .storage-label {
                    font-size: 0.875rem;
                    color: $text-light;
                }
            }
        }
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;

        .stat-card {
            background: $white;
            border-radius: $radius-lg;
            padding: 1.5rem;
            box-shadow: $shadow-sm;
            border: 1px solid $gray-200;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: $transition-all;

            &:hover {
                transform: translateY(-2px);
                box-shadow: $shadow-md;
            }

            .stat-icon {
                width: 60px;
                height: 60px;
                border-radius: $radius-lg;
                display: flex;
                align-items: center;
                justify-content: center;
                flex-shrink: 0;
                color: $white;
            }

            .stat-content {
                h3 {
                    font-size: 1.5rem;
                    font-weight: 700;
                    color: $text-dark;
                    margin-bottom: 0.25rem;
                }

                p {
                    color: $text-light;
                    font-size: 0.875rem;
                }
            }

            &--sales {
                .stat-icon {
                    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
                }
            }

            &--fees {
                .stat-icon {
                    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
                }
            }

            &--items {
                .stat-icon {
                    background: linear-gradient(135deg, $yellow-color 0%, #d97706 100%);
                }
            }

            &--orders {
                .stat-icon {
                    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
                }
            }

            &--reutrns {
                .stat-icon {
                    background: linear-gradient(135deg, #0c4aad 0%, #2563eb 100%);
                }
            }

            &--review {
                .stat-icon {
                    background: linear-gradient(135deg, $yellow-color 0%, #995910 100%);
                }
            }
        }
    }

    .chart-section {
        margin-bottom: 2rem;

        .chart-container {
            background: $white;
            border-radius: $radius-xl;
            padding: 2rem;
            box-shadow: $shadow-sm;
            border: 1px solid $gray-200;

            h3 {
                font-size: 1.125rem;
                font-weight: 600;
                color: $text-dark;
                margin-bottom: 1.5rem;
            }

            .chart-wrapper {
                width: 100%;
                height: 300px;
            }
        }
    }

    .analytics-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
        margin-bottom: 2rem;

        .analytics-card {
            background: $white;
            border-radius: $radius-xl;
            box-shadow: $shadow-sm;
            border: 1px solid $gray-200;
            overflow: hidden;

            .card-header {
                background: $dark-blue-color;
                color: $white;
                padding: 1rem 1.5rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;

                h3 {
                    font-size: 1rem;
                    font-weight: 600;
                    margin: 0;
                }
            }

            .chart-wrapper {
                padding: 1.5rem;
                position: relative;
            }

            .pie-legend {
                position: absolute;
                bottom: 1rem;
                left: 50%;
                transform: translateX(-50%);

                .legend-item {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    font-size: 0.875rem;
                    color: $text-dark;

                    .legend-color {
                        width: 12px;
                        height: 12px;
                        border-radius: 2px;
                    }
                }
            }

            .empty-state {
                padding: 2rem;
                text-align: center;
                color: $text-light;
                font-size: 0.875rem;
                height: 250px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }
    }

    .bottom-stats {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;

        .stats-card {
            background: $white;
            border-radius: $radius-xl;
            box-shadow: $shadow-sm;
            border: 1px solid $gray-200;
            overflow: hidden;

            .card-header {
                background: $dark-blue-color;
                color: $white;
                padding: 1rem 1.5rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;

                h3 {
                    font-size: 1rem;
                    font-weight: 600;
                    margin: 0;
                }
            }

            .stats-list {
                padding: 1.5rem;

                .stats-item {
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                    padding: 0.75rem 0;
                    border-bottom: 1px solid $gray-100;

                    &:last-child {
                        border-bottom: none;
                    }

                    .stats-icon {
                        flex-shrink: 0;

                        &--warning {
                            color: $yellow-color;
                        }

                        &--danger {
                            color: #ef4444;
                        }
                    }

                    .stats-count {
                        font-weight: 600;
                        color: $primary-color;
                        min-width: 20px;
                    }

                    .stats-label {
                        color: $text-dark;
                        font-size: 0.875rem;
                    }
                }
            }

            .empty-state {
                padding: 2rem;
                text-align: center;
                color: $text-light;
                font-size: 0.875rem;
            }
        }
    }
}

// Responsive Design
@media (max-width: 1200px) {
    .dashboard {
        .analytics-grid {
            grid-template-columns: 1fr;
        }

        .bottom-stats {
            grid-template-columns: 1fr;
        }
    }
}

@media (max-width: 768px) {
    .dashboard {
        .dashboard-header {
            flex-direction: column;
            gap: 1.5rem;
            text-align: center;

            .welcome-section {
                flex-direction: column;
                text-align: center;
            }

            .storage-info {
                justify-content: center;
            }
        }

        .stats-grid {
            grid-template-columns: 1fr;
        }

        .chart-section .chart-container {
            padding: 1.5rem;
        }

        .analytics-grid {
            grid-template-columns: 1fr;

            .analytics-card {
                .chart-wrapper {
                    height: 200px;
                }
            }
        }
    }
}

@media (max-width: 480px) {
    .dashboard {
        .dashboard-header {
            padding: 1.5rem;

            .welcome-section {
                .user-avatar {
                    width: 60px;
                    height: 60px;
                }

                .welcome-text h1 {
                    font-size: 1.25rem;
                }
            }
        }

        .stat-card {
            padding: 1rem;

            .stat-icon {
                width: 50px;
                height: 50px;
            }

            .stat-content h3 {
                font-size: 1.25rem;
            }
        }

        .chart-section .chart-container {
            padding: 1rem;

            .chart-wrapper {
                height: 250px;
            }
        }

        .analytics-card {
            .chart-wrapper {
                padding: 1rem;
                height: 180px;
            }
        }

        .bottom-stats .stats-card {
            .stats-list {
                padding: 1rem;

                .stats-item {
                    gap: 0.75rem;
                }
            }
        }
    }
}